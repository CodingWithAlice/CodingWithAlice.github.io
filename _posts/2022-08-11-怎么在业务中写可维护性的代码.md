---
layout:     post
title:     怎么在业务中写可维护性的代码
subtitle:  
date:       2022-08-11
author:     
header-img: 
catalog: true
tags:
    - < 工作遇到的问题记录 >
typora-root-url: ..
---



# 怎么在业务中写可维护性的代码

本文适用对象：不适合新人小白，适合有一段时间的开发工作经验

本文组成：

- 写可维护性代码有什么好处？（收益 - Why）
- 我要付出什么才可以写出可维护性高的代码？（投入 - How）
- 要做什么？（What）



## 1、写可维护性代码有什么好处？

业务永远是优先的，在企业里技术的价值是为业务服务来体现的，可维护性代码不是为了解决程序员的“好看代码的强迫症”，而是为了实实在在提高业务开发效率。

如果你平常开发的代码，都是用一次就不再有访问量的活动页面，比如之前刷了朋友圈的 《MBTI人格测试》、《通过音乐测年龄》、《摸鱼指数》等，那朋友请走好，出门左拐不送，这些类型的代码不需要可维护性，快速上线才是王道。

那哪些场景写可维护性代码会给我们自己的开发带来好处呢？那些开发完，一次又一次迭代的页面、功能。

但是一想到要写这个劳什子可维护性代码，是不是自动就想到了“天呐，业务真的很忙，来不及来不及，不要卷我了”，非常能理解，但是也仅限于理解，有时候可以想想有什么办法让我们可以不忙一点，可以快速上线需求，有时间捋一捋 ？？？？？？？？

这本书的核心就是：“代码被阅读和修改的次数，远远多于它被编写的次数”



## 2、我要付出什么才可以写出可维护性高的代码？

不需要付出什么，养成一些小习惯，或者是意识，知道怎么写出可维护性高的代码就可以了

tips：

平常看一个特别复杂的函数的时候，用注释写一下步骤1、2、3 -> 为什么？

- 因为即使是我自己写的代码，不用2个月，我一个月之后去改我已经不记得具体逻辑的。有时候看到还以为是别人写的，心里先骂一句“这么烂的代码谁写的”，vscode 点到代码行一看：“哦，是我，一个月前的傻缺”

如果正好要修改这个函数，可以尝试尽可能把步骤1、2、3抽离成单独的函数 -> 为什么？

- 因为好的模块化能够让我们在修改程序时只需要理解程序的一小部分，而不用看一次，理解一次（都是时间成本啊），改动一行还担心会不会影响到当前函数的其他使用，疯狂测试各种场景（心累，有时候边界情况没测到，上线了还要回滚）

那我看到这种非常复杂的函数就要改的话，开发的时候累死了，毕竟历史遗产真的挺多的，改到猴年马月去？ 

- 我们提倡的是遇到再改，看到不改；一些低频修改的代码，复杂就复杂吧，一年改一次，在改的那次有时间就拆解一下，没时间的话就改一改，着实就学会放手吧

新增一个功能的时候，如果原来的代码很不方便扩展，可以尝试重构一下，让代码每次加一个类型的处理逻辑，都非常方便，那么下一次再添加新功能的时候，我只要简单扩充一个新功能函数，而不用这里加一行，那里加一行。

相似功能的代码写到一块去，如果老是需要跳来跳去才能明白在干啥，是不是可以考虑放一块了。

在处理历史遗产，让老代码编程更易读，更好维护的过程中，应该是随时可以停下来的，代码不应该出现不可访问的现象

- ？？？？？

## 3、要做什么？

如果你也觉得可维护性的代码的确有点用，投入产出比挺高的，可以深入了解下，《重构2》，坤坤推荐给我的，现在我把这本书发扬光大一下，是一本案例用 js 写的，特别适合我们前端看的书。

不过书太厚了，不想看的可以访问我博客，核心常用到的核心理论我都在我博客里贴了我按照书里案例理解的步骤1-2-3，感兴趣可以翻一下，对书感兴趣的可以找我、找坤坤、找刘敏借书。

