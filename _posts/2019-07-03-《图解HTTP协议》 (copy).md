---
layout:     post
title:      《图解HTTP协议》 计算机基础知识
subtitle:  
date:       2019-07-03
author:     
header-img: 
catalog: true
tags:
    - 《图解HTTP协议》
typora-root-url: ..
---

- ### 缩写名词解释

| HTTP         | 中文名称                     | 功能                                                         |
| ------------ | ---------------------------- | ------------------------------------------------------------ |
| HTTP         | 超文本传输协议**（应用层）** |                                                              |
| HTML         | 超文本标记语言               |                                                              |
| URL          | 统一资源定位符（文档地址）   | 表示资源的地点。是URI的子集。                                |
| URI          | 统一资源标识符               | 用字符串表示某一互联网资源                                   |
| TCP/IP协议族 | 与互联网相关的协议集合       |                                                              |
| DNS          | 域名系统**（应用层）**       | 域名到IP地址之间的解析服务。双向反查都可以。                 |
| TCP          | 传输控制协议（**传输层**）   | 提供可靠的字节流服务。对HTTP请求报文进行分割；并打上标记序号和端口号后转发给网络层。**三次握手** |
| IP           | 网际协议**（网络层）**       | 把各种数据包传给对方。要确保传送有两个重要条件：IP地址、MAC地址。 |
| IP地址       |                              | 指明了节点被分配到的地址；                                   |
| MAC地址      |                              | 指网卡所属的固定地址；（**搜索下一个中转目标的地址**）       |
| ARP协议      | 解析地址的协议               | **根据通信方的IP地址，反查出对应的MAC地址**                  |
| SSL          | 安全套接层                   |                                                              |
| TLS          | 传输层安全                   |                                                              |
| MIME         | 多用途因特网邮件扩展         |                                                              |



### TCP/IP 的分层管理

- 应用层：为用户提供应用服务。**DNS、HTTP属于应用层。**

- 传输层：提供两台计算机之间的数据传输。**TCP属于传输层。**

- 网络层：处理网上流动的数据包，通过怎样的路径，把数据包给对方。**IP属于网络层。**

- 数据链路层：处理链接网络的硬件部分。

  

发送端：从应用层**往下走**；每通过一层会**增加该层**的首部信息（封装）；

接收端：则从链路层**往上走**到应用层；每通过一层会**删除该层**的首部信息；



### TCP的**三次握手**

- 1.发送端受限发送一个带SYN标志的数据包给对方。
- 2.接收端收到后，回传一个带有SYN/ACK标志的数据包传达确认信息。
- 3.最后，发送端再回传一个带ACK标志的数据包，代表握手结束。



### 请求报文/响应报文

请求报文：由**请求方法、请求URI、协议版本**（三者组成**请求行**）、可选的请求首部字段和内容实体构成。

响应报文：由**协议版本、状态码、解释状态码的原因短语**（三者组成**状态行**）、可选的响应首部字段及实体主体构成。

​	两种报文中，报文首部和报文主体由最初的空行来划分。

- 请求方法：GET访问**已被URI识别的资源**。指定的资源经服务器端解析后返回响应内容。

  ​					POST用来**传输实体的主体**。

  ​					HEAD获得**报文首部**。用于确认URI的有效性及资源更新的日期时间。

  ​					OPTIONS**查询针对请求URI指定的资源支持的方法**。

  ​					CONNECT用隧道协议连接代理。**用SSL和TLS把通信内容加密后**经网络隧道传输。

  ​					PUT用来传输文件，但是自身不带验证机制，存在安全性问题。

  ​					DELETE按请求URI删除指定的资源，但是自身不带验证机制，存在安全性问题。

  ​					TRACE追踪路径，查询发出去的请求是怎么样被加工的，存在安全性问题。

- 请求URI：指定方式很多种，可以用*代替，可以写完整，也可以在首部字段Host中写明网络域名或IP地址

①GET http://hackr.jp/index.htm HTTP/1.1  ②GET /index.htm HTTP/1.1   ③OPTIONS * HTTP/1.1

​																				 Host: hackr.jp                   （ * 表示对服务器本身发起请求）

- 状态码：表示请求成功或失败的数字代码

![](/img/assets_2019/baowen.jpg)

### Cookie技术

- HTTP协议自身不具备保存之前发送过的请求或响应的功能，即**无状态协议**。

为了实现期望的保持状态功能，于是引入了Cookie技术。

- Cookie技术通过在请求和响应报文中写入Cookie信息来控制客户端的状态。
  - Cookie会根据从**服务器端**发送的**响应报文内**的一个叫做**Set-Cookie的首部字段信息**，通知客户端保存Cookie。当**下次客户端**再往该服务器**发送请求**时，客户端会**自动在请求报文中加入Cookie值**后发送出去。

### 获取部分内容的范围请求

- 执行范围请求时，会用到请求报文首部字段	Range：bytes = 5001 - 10000 来指定资源的byte范围。

### 状态码

![](/img/assets_2019/zhuangtaima.jpg)

- 200 OK 的响应结果表明请求被**正常处理**了。
- 204 No Content 服务器接收的请求已成功处理，但在返回的响应报文中**不含实体的主体部分**。
- 206 Partial Content 客户端进行了**范围请求**。



- 301 Moved Permanently **永久性重定向**。表示请求的资源已被分配了新的URI。
- 302  Found **临时性重定向**。表示请求的资源已被分配了新的URI，希望用户本次能够使用新的URI。
- 307 Temporary Redirect 临时性重定向。与302含义相同。
- 303 See Other 由于请求对应的资源**存在着另一个URI**，应使用GET方法定向获取请求的资源。
- 304 Not Modified 客户端发送的附带条件的请求时，服务器允许请求访问资源，但**资源未满足条件**。



- 400 Bad Request 请求报文中存在**语法错误**。
- 401 Unauthorized 请求需要通过**HTTP认证**。第一次返回，会弹出认证窗口，第二次返回，表示认证失败。
- 403 Forbidden 请求资源的访问**被服务器拒绝**了。
- 404 Not Found **服务器上没有请求的资源**。



- 500 Internal Server Error 服务器在执行请求时发生了错误。
- 503 Service Unavailable 服务器暂时处于超负载或正在进行停机维护，现在无法处理请求。



- 代理：客户端和服务器的中间人。代理不改变URI。常用：缓存代理（代理转发响应时，会保存资源在代理服务器上，再次请求相同资源时即可不去源服务器获取资源；有有效期，过期后会确认资源有效性，无效就再次获取新资源）；通过设置组织内部的代理服务器可做到针对特定URI访问的控制。
- 网关：为客户端和网关之间的通信线路加密，提高通信的安全性。
- 隧道：确保客户端与服务器安全通信，建立一条与其他服务器的通信线路。不会去解析HTTP请求。